# 城市路口分析系统

## 项目简介

城市路口分析系统是一个用于识别城市道路网络中关键路口的工具。该系统通过建模城市道路网络为无向图，并使用图论算法来识别那些如果被阻断将导致城市交通分割成不连通区域的关键路口。

## 代码结构

- `validate_input()`: 验证用户输入的边的合法性
- `get_vertex_count()`: 获取用户输入的顶点数量
- `get_edges()`: 构建无向图的邻接表表示
- `find_critical_intersections()`: 实现Tarjan算法寻找关键路口
- `main()`: 程序主函数，协调整个工作流程

## 工作流程

1. **输入城市路口数量**：用户首先输入城市中路口的总数。
2. **构建道路网络**：用户通过输入路口对来定义路口之间的道路连接。
3. **验证输入合法性**：系统检查输入是否合法，包括路口编号范围、防止自环和重复边。
4. **识别关键路口**：系统使用Tarjan算法识别所有关键路口（割点）。
5. **输出分析结果**：系统输出所有关键路口的列表。

## 应用的离散数学知识

### 图论基础
- **无向图表示**：使用邻接表表示城市道路网络，其中顶点代表路口，边代表道路。
- **连通性**：分析图的连通性来确定道路网络的结构特性。
- **孤立点**：识别没有连接到任何其他路口的孤立路口。

### 图算法
- **深度优先搜索(DFS)**：用于图的遍历和连通性分析。
- **Tarjan算法**：用于识别图中的割点（关键路口）。
- **连通分量**：分析移除某个路口后形成的连通分量数量和结构。

## 核心算法：Tarjan割点算法流程

Tarjan算法是Robert Tarjan发明的一种用于寻找图中割点（关键节点）的高效算法。算法的核心流程如下：

1. **初始化**：
   - 为每个顶点分配两个值：discovery time (disc[])和low value (low[])
   - 使用DFS遍历顶点，并记录顶点的父节点关系parent[]
   - 使用is_cut[]数组标记顶点是否为割点

2. **深度优先搜索**：
   - 对于每个未访问的顶点，执行DFS
   - 记录顶点的发现时间和初始low值
   - 递归访问其邻居顶点

3. **更新low值**：
   - 对于顶点u的每个邻居v：
     - 如果v尚未被访问，递归处理v，然后更新u的low值：low[u] = min(low[u], low[v])
     - 如果v已被访问且不是u的父节点，更新u的low值：low[u] = min(low[u], disc[v])

4. **识别割点**：
   - 如果u是根节点（parent[u] == -1）且有多个子节点(child > 1)，则u是割点
   - 如果u不是根节点，且存在子节点v使得low[v] >= disc[u]，则u是割点

5. **返回结果**：
   - 返回所有被标记为割点的顶点列表

Tarjan算法的时间复杂度为O(V+E)，其中V是顶点数，E是边数，这使得它成为识别图中割点的高效算法。